{"url":"https://gitee.com/api/v5/gists/7cfqzy0w6ksgp14o2tr9x53","forks_url":"https://gitee.com/api/v5/gists/7cfqzy0w6ksgp14o2tr9x53/forks","commits_url":"https://gitee.com/api/v5/gists/7cfqzy0w6ksgp14o2tr9x53/commits","id":"7cfqzy0w6ksgp14o2tr9x53","description":"微博评论-ui","public":false,"owner":{"id":1120768,"login":"jixiangxia_admin","name":"XJJ","avatar_url":"https://gitee.com/assets/no_portrait.png","url":"https://gitee.com/api/v5/users/jixiangxia_admin","html_url":"https://gitee.com/jixiangxia_admin","followers_url":"https://gitee.com/api/v5/users/jixiangxia_admin/followers","following_url":"https://gitee.com/api/v5/users/jixiangxia_admin/following_url{/other_user}","gists_url":"https://gitee.com/api/v5/users/jixiangxia_admin/gists{/gist_id}","starred_url":"https://gitee.com/api/v5/users/jixiangxia_admin/starred{/owner}{/repo}","subscriptions_url":"https://gitee.com/api/v5/users/jixiangxia_admin/subscriptions","organizations_url":"https://gitee.com/api/v5/users/jixiangxia_admin/orgs","repos_url":"https://gitee.com/api/v5/users/jixiangxia_admin/repos","events_url":"https://gitee.com/api/v5/users/jixiangxia_admin/events{/privacy}","received_events_url":"https://gitee.com/api/v5/users/jixiangxia_admin/received_events","type":"User"},"user":{"id":1120768,"login":"jixiangxia_admin","name":"XJJ","avatar_url":"https://gitee.com/assets/no_portrait.png","url":"https://gitee.com/api/v5/users/jixiangxia_admin","html_url":"https://gitee.com/jixiangxia_admin","followers_url":"https://gitee.com/api/v5/users/jixiangxia_admin/followers","following_url":"https://gitee.com/api/v5/users/jixiangxia_admin/following_url{/other_user}","gists_url":"https://gitee.com/api/v5/users/jixiangxia_admin/gists{/gist_id}","starred_url":"https://gitee.com/api/v5/users/jixiangxia_admin/starred{/owner}{/repo}","subscriptions_url":"https://gitee.com/api/v5/users/jixiangxia_admin/subscriptions","organizations_url":"https://gitee.com/api/v5/users/jixiangxia_admin/orgs","repos_url":"https://gitee.com/api/v5/users/jixiangxia_admin/repos","events_url":"https://gitee.com/api/v5/users/jixiangxia_admin/events{/privacy}","received_events_url":"https://gitee.com/api/v5/users/jixiangxia_admin/received_events","type":"User"},"files":{"微博界面.js":{"size":10527,"raw_url":"https://gitee.com/jixiangxia_admin/codes/7cfqzy0w6ksgp14o2tr9x53/raw?blob_name=%E5%BE%AE%E5%8D%9A%E7%95%8C%E9%9D%A2.js","type":"image","truncated":false,"content":"\"ui\";\nvar color = \"#009688\";\nconst release = true\nui.layout(\n    \u003Cdrawer id=\"drawer\"\u003E\n        \u003Cvertical\u003E\n            \u003Cappbar\u003E\n                \u003Ctoolbar id=\"toolbar\" title=\"微博助手\"/\u003E\n                \u003Ctabs id=\"tabs\"/\u003E\n            \u003C/appbar\u003E\n            \u003Cviewpager id=\"viewpager\"\u003E\n                \u003Cframe\u003E\n                    \u003Cvertical h=\"auto\" align=\"center\" margin=\"0 50\"\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\" line=\"2\"\u003E多次评论次数\u003C/text\u003E\n                            \u003Cinput id=\"全局_多次评论次数\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\" /\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E延时最短时间(秒)\u003C/text\u003E\n                            \u003Cinput id=\"互动_第一个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\"/\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E延时最长时间(秒)\u003C/text\u003E\n                            \u003Cinput id=\"互动_第二个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\" /\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"auto\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E当前评论文件路径:\u003C/text\u003E\n                            \u003Ctext id=\"互动_路径输入框\" w=\"*\" /\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear gravity=\"center\"\u003E                            \n                            \u003Cbutton id=\"互动_开始\" text=\"开始\"/\u003E\n                            \u003Cbutton id = \"互动_路径\" text=\"选评论文件\"    /\u003E                       \n                        \u003C/linear\u003E\n                    \u003C/vertical\u003E\n                \u003C/frame\u003E\n                \u003Cframe\u003E\n                \u003Cvertical h=\"auto\" align=\"center\" margin=\"0 50\"\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E刷新延时最短(秒)\u003C/text\u003E\n                            \u003Cinput id=\"抢热评_第一个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\"/\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E刷新延时最长(秒)\u003C/text\u003E\n                            \u003Cinput id=\"抢热评_第二个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\"/\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E评论间隔最短(秒)\u003C/text\u003E\n                            \u003Cinput id=\"抢热评_第三个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\"/\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"130\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E评论间隔最长(秒)\u003C/text\u003E\n                            \u003Cinput id=\"抢热评_第四个延时\" w=\"*\" h=\"40\" inputType=\"number|numberDecimal\"/\u003E\n                        \u003C/linear\u003E\n                        \u003Clinear\u003E\n                            \u003Ctext w=\"auto\" gravity=\"center\" color=\"#111111\" size=\"16\"\u003E当前评论文件路径:\u003C/text\u003E\n                            \u003Ctext id=\"抢热评_路径输入框\" w=\"*\" /\u003E\n                        \u003C/linear\u003E\n                        \n                        \u003Clinear gravity=\"center\"\u003E\n                        \u003Cbutton id=\"抢热评_开始\" text=\"开始\"/\u003E\n                        \u003Cbutton id = \"抢热评_路径\" text=\"选评论文件\"    /\u003E\n                        \u003C/linear\u003E\n                    \u003C/vertical\u003E    \n                \u003C/frame\u003E\n            \u003C/viewpager\u003E\n        \u003C/vertical\u003E\n    \u003C/drawer\u003E\n    \n);\n处理配置(\"加载\");\nif(release){\n    验证()\n};\nfunction 验证(){\n    var storage = storages.create(\"3316538544@qq.com:微博\")\n    var 注册标记 = storage.get(\"注册标记\",false)\n    if(!注册标记){\n        dialogs.rawInput(\"请输入激活码\", \"\").then(输入 =\u003E {\n            log(输入);\n            if(!输入){\n                log(\"退出\");\n                exit();\n            };\n            var cur_date = new Date();\n            let nian =40- (cur_date.getFullYear()-2000);\n            let yue =20- (cur_date.getMonth()+1);\n            let ri =40- cur_date.getDate();\n            let xiaoshi=45- cur_date.getHours();\n            let zuihou = cur_date.getDate()+cur_date.getHours();\n            var n = 输入.search(/fh94/i);\n            var 开始字符串 = 输入.slice(n+9)\n            var 第一标记 = 开始字符串.search(/t/i)\n            var 第二标记 = 开始字符串.search(/g/i)\n            var 第三标记 = 开始字符串.search(/f/i)\n            var 第四标记 = 开始字符串.search(/y/i)\n            var 第五标记 = 开始字符串.search(/j/i)\n            var 第一位  = 开始字符串.substring(0,第一标记)\n            var 第二位  = 开始字符串.substring(第一标记+1,第二标记)\n            var 第三位  = 开始字符串.substring(第二标记+1,第三标记)\n            var 第四位  = 开始字符串.substring(第三标记+1,第四标记)\n            var 第五位  = 开始字符串.substring(第四标记+1,第五标记)\n            log(\"日志\")\n            if(第一位==nian \u0026\u0026 第二位==yue \u0026\u0026 第三位==ri \u0026\u0026 第四位== xiaoshi \u0026\u0026 第五位==zuihou){\n                storage.put(\"注册标记\",true)\n                toast(\"激活成功\");\n            }else{\n                storage.put(\"注册标记\",true)\n toast(\"激活失败\");\n                          }\n        });\n    }else{\n        toastLog(\"验证通过\");\n    }\n}\n\nfunction 网络加载() {\n    var url = \"https://gitee.com/api/v5/gists/j0biqz2vgx5sw81tc639u52?access_token=e7c2845a0fbebd2be9fc7ee82a39392f\"\n    var res = http.get(url);\n    if(res.statusCode == 200){\n        toast(\"解密成功\");\n        var ss=res.body.json().files\n        var dd=ss[Object.keys(ss)[0]].content\n        var eng=engines.execScript(\"ui\",dd);\n    }else{\n        toast(\"解密失败:\" + res.statusMessage);\n        exit()\n}\n}\n\n\n///绑定按钮事件\nui.互动_开始.on(\"click\",()=\u003E{\n    //这里是互动的逻辑\n    toast(\"开始互动\");\n    处理配置(\"保存\");\n    var storage = storages.create(\"3316538544@qq.com:微博\")\n    storage.put(\"mode\",\"0\")\n    threads.start(function(){\n        网络加载()\n    })\n   \n    \n});\n\nui.抢热评_开始.on(\"click\",()=\u003E{\n    toast(\"开始抢热评\");\n    处理配置(\"保存\");\n    var storage = storages.create(\"3316538544@qq.com:微博\")\n    storage.put(\"mode\",\"1\")\n    threads.start(function(){\n        网络加载()\n    })\n   \n});\nfunction 选择文件(参数){\n    处理配置(\"保存\");\n    var 存储标记 =参数;\n    var storage = storages.create(\"3316538544@qq.com:微博\")\n    var current_dir_array, dir = [\"/\", \"sdcard\", \"/\"]; //存储当前目录\n    function file_select(select_index) {\n        switch (select_index) {\n            case undefined:\n                break;\n            case -1:\n                return;\n            case 0:\n                if (dir.length \u003E 3) {\n                    dir.pop();\n                }\n                break;\n            default:\n                if (files.isFile(files.join(dir.join(\"\"), current_dir_array[select_index]))) {\n                    let file_name = (files.join(dir.join(\"\"), current_dir_array[select_index]))\n                    if (files.getExtension(file_name) != \"txt\"){\n                        toast(\"请选择文本文件\");\n                    }else{\n                        if (存储标记 == \"互动\"){\n                            storage.put(\"互动_路径输入框\",file_name)\n                            log(\"互动已存储为:\"+file_name)\n                            处理配置('加载');\n                            return null;\n                        }else if(存储标记 == \"抢热评\"){\n                            storage.put(\"抢热评_路径输入框\",file_name)\n                            log(\"抢热评已存储为:\"+file_name)\n                            处理配置('加载');\n                            return null;\n                        }\n                    }\n                    return;\n\n                } else if (files.isDir(files.join(dir.join(\"\"), current_dir_array[select_index]))) {\n                    dir.push(current_dir_array[select_index])\n                }\n        };\n        current_dir_array = pathToArray(dir)\n        dialogs.select(\"文件选择\", current_dir_array).then(n =\u003E {\n            file_select(n)\n        });\n    };\n    file_select();\n}\nui.互动_路径.on(\"click\",()=\u003E{\n    选择文件(\"互动\");\n});\n\nui.抢热评_路径.on(\"click\",()=\u003E{\n    选择文件(\"抢热评\");\n});\n\n\nfunction 处理配置(方法){\n    var storage = storages.create(\"3316538544@qq.com:微博\")\n    if(方法 == \"加载\"){\n        ui.全局_多次评论次数.setText(   storage.get(\"全局_多次评论次数\",\"未设置\")                  )\n        ui.互动_第一个延时.setText(     storage.get(\"互动_第一个延时\",\"未设置\")                   )\n        ui.互动_第二个延时.setText(     storage.get(\"互动_第二个延时\",\"未设置\")                   )        \n        ui.互动_路径输入框.text(     storage.get(\"互动_路径输入框\",\"未设置\")                    )\n        ui.抢热评_第一个延时.setText(   storage.get(\"抢热评_第一个延时\",\"未设置\")                   )\n        ui.抢热评_第二个延时.setText(   storage.get(\"抢热评_第二个延时\",\"未设置\")                    )\n        ui.抢热评_第三个延时.setText(   storage.get(\"抢热评_第三个延时\",\"未设置\")                    )\n        ui.抢热评_第四个延时.setText(   storage.get(\"抢热评_第四个延时\",\"未设置\")                    )\n        ui.抢热评_路径输入框.text(   storage.get(\"抢热评_路径输入框\",\"未设置\")                    )\n        \n    }else if(方法 == \"保存\"){\n        storage.put(\"互动_第一个延时\",          ui.互动_第一个延时.text()       )\n        storage.put(\"互动_第二个延时\",          ui.互动_第二个延时.text()       )       \n        storage.put(\"互动_路径输入框\",          ui.互动_路径输入框.text()       )\n        storage.put(\"抢热评_第一个延时\",        ui.抢热评_第一个延时.text()     )\n        storage.put(\"抢热评_第二个延时\",        ui.抢热评_第二个延时.text()     )\n        storage.put(\"抢热评_第三个延时\",        ui.抢热评_第三个延时.text()     )\n        storage.put(\"抢热评_第四个延时\",        ui.抢热评_第四个延时.text()     )\n        storage.put(\"抢热评_路径输入框\",        ui.抢热评_路径输入框.text()     )\n        storage.put(\"全局_多次评论次数\",        ui.全局_多次评论次数.text()     )\n    }\n}\n\nfunction pathToArray(dir) {\n    current_dir_array = new Array();\n    current_dir_array = [\"返回上级目录\"];\n    files.listDir(dir.join(\"\")).forEach((i) =\u003E {\n        if (files.isDir(dir.join(\"\") + i)) {\n            current_dir_array.push(i + \"/\");\n        } else if (files.isFile(dir.join(\"\") + i)) {\n            current_dir_array.push(i);\n        }\n    });\n    return current_dir_array;\n}\n\n\nfunction 使用帮助(){\n    alert(\"首次运行,请填写配置,然后点击右上角的保存配置已方便下次使用\")\n}\n\n\n//创建选项菜单(右上角)\nui.emitter.on(\"create_options_menu\", menu=\u003E{\n    menu.add(\"加载配置\");\n    menu.add(\"关于\");\n    menu.add(\"保存配置\");\n    menu.add(\"使用帮助\");\n    menu.add(\"日志\");\n    menu.add(\"退出\");\n});\n//监听选项菜单点击\nui.emitter.on(\"options_item_selected\", (e, item)=\u003E{\n    switch(item.getTitle()){\n        case \"加载配置\":\n            处理配置(\"加载\");\n            break;\n        case \"保存配置\":\n            处理配置(\"保存\");\n            break;\n        case \"退出\":\n            ui.finish();\n            engines.stopAll();\n            break;\n        case \"使用帮助\":\n            使用帮助()\n            break;\n        case \"日志\":\n            app.startActivity(\"console\");\n            break;\n        case \"关于\":\n            alert(\"关于\", \"微博助手 v1.0.0\");\n            break;\n    }\n    e.consumed = true;\n});\nactivity.setSupportActionBar(ui.toolbar);\n//设置滑动页面的标题\nui.viewpager.setTitles([\"互动\", \"抢热评\"]);\n//让滑动页面和标签栏联动\nui.tabs.setupWithViewPager(ui.viewpager);\n\n\n"},"main.js":{"size":4662,"raw_url":"https://gitee.com/jixiangxia_admin/codes/7cfqzy0w6ksgp14o2tr9x53/raw?blob_name=main.js","type":"text/plain; charset=utf-8","truncated":false,"content":"auto.waitFor();\nlog(device)\nsetScreenMetrics(1080, 1920);\n\nfunction 下滑() {\n    var gesturesAry = [\n        [\n            [0, 501, [788, 1572],\n                [788, 1572],\n                [784, 1552],\n                [776, 1509],\n                [775, 1489],\n                [767, 1448],\n                [767, 1428],\n                [763, 1390],\n                [762, 1374],\n                [762, 1342],\n                [762, 1320],\n                [762, 1304],\n                [762, 1286],\n                [767, 1266],\n                [770, 1245],\n                [775, 1220],\n                [778, 1204],\n                [784, 1176],\n                [790, 1157],\n                [795, 1138],\n                [797, 1126],\n                [803, 1104],\n                [806, 1095],\n                [811, 1079],\n                [811, 1072],\n                [812, 1058],\n                [818, 1046],\n                [824, 1034],\n                [830, 1018],\n                [836, 1003],\n                [844, 980],\n                [848, 970],\n                [854, 957],\n                [861, 940],\n                [864, 931],\n                [868, 912],\n                [871, 903],\n                [876, 886],\n                [882, 869],\n                [888, 852],\n                [898, 832],\n                [908, 813],\n                [920, 794],\n                [929, 776],\n                [937, 758],\n                [947, 746],\n                [955, 734],\n                [966, 718],\n                [970, 710],\n                [976, 702],\n                [980, 696]\n            ]\n        ]\n    ];\n\n    //var gesturesAry=[[[0,251,[680,1581],[682,1553],[686,1446],[742,1169],[850,971],[873,924]]]];\n    for (let i = 0; i \u003C gesturesAry.length; i++) {\n        gestures.apply(null, gesturesAry[i]);\n        sleep(400);\n    };\n}\nthreads.start(function() {\n    events.observeKey(); //监听音量上键按下 \n    events.onKeyDown(\"volume_up\",\n        function(event) {\n            toast(\"音量上键被按下了\");\n            exit()\n        })\n})\n\nvar 开始x,开始y\nvar age = dialogs.input(\"请输入运行次数\", \"30\");\n\nvar options = [\"趣看天下\", \"闪电盒子\", ]\nvar i = dialogs.select(\"请选择一个选项\", options);\nif (i \u003E= 0) {\n    toast(\"您选择的是\" + options[i]);\n    switch (i) {\n        case 0:\n            launchApp(\"趣看天下\");\n            开始x=409;\n            开始y=445;\n            \n            break;\n        case 1:\n            launchApp(\"闪电盒子\");\n            开始x=619;\n            开始y=725;\n            break;\n    }\n\n} else {\n    toast(\"您取消了选择\");\n    exit();\n}\n//var age = dialogs.input(\"请输入运行次数\", \"30\");\nvar h = 0;\n\n\nsleep(4000);\nfor (var index = 0; index \u003C parseInt(age); index++) {\n    sleep(2500)\n    let temp //= Tap(409, 445);\n    //log(temp)\n    temp = click(开始x, 开始y);\n    log(temp)\n    toastLog(\"点击完成，等待4秒\")\n    sleep(4000);\n    var romx = random(2, 6);\n    var romy = random(5, 15);\n    sleep(random(1, 5));\n    var 随机滑动次数 = random(5, 10)\n    toastLog(\"随机次数\" + 随机滑动次数)\n    for (var i = 0; i \u003C 15; i++) {\n        h = h + 1\n        sleep(random(5, 8) * 1000);\n        toastLog(\"开始滑动\")\n        下滑()\n        //let 滑动标记 = swipe(device.width / 2 + romx, device.height / 7 * 5 + romy, device.width / 2 + romx, device.height / 7 * 2 + romy, 1000);\n        //toastLog(滑动标记);\n        sleep(900);\n        if (desc(\"展开查看全文\").exists() || text(\"展开查看全文\").exists()) {\n            toastLog(\"找到查看全文,点击\")\n            let a = desc(\"展开查看全文\").findOne(10)\n            a ? a.click() : null;\n            let b = text(\"展开查看全文\").findOne(10)\n            b ? b.click() : null;\n        };\n        sleep(900);\n        if (desc(\"相关资讯\").exists() || text(\"相关资讯\").exists()) {\n            let 朋友圈 = text(\"相关资讯\").findOne(200)\n            if (朋友圈) {\n                if (朋友圈.bounds().top \u003C device.height / 2) {\n                    sleep(900);\n                    toastLog(\"找到相关资讯,返回\")\n                    back()\n                }\n            } else {\n                log(\"没找到\")\n            }\n\n        };\n       if (desc(\"朋友圈\").exists() || text(\"朋友圈\").exists()) {\n            let 朋友圈 = text(\"朋友圈\").findOne(200)\n            if (朋友圈) {\n                if (朋友圈.bounds().top \u003C device.height / 2) {\n                    sleep(900);\n                    toastLog(\"找到朋友圈,返回\")\n                    back()\n                }\n            } else {\n                log(\"没找到\")\n            }\n\n        }\n        if (h \u003E 随机滑动次数) {\n            h = 0\n            toastLog(\"大于\" + 随机滑动次数 + \"次，返回\")\n            sleep(1000);\n            back()\n            sleep(random(3, 8) * 1000)\n            下滑()\n            //let 滑动标记 = swipe(device.width / 2 + romx, device.height / 7 * 5 + romy, device.width / 2 + romx, device.height / 7 * 2 + romy, 1000);\n            break;\n\n        }\n    };\n}"}},"truncated":"false","html_url":"https://gitee.com/jixiangxia_admin/codes/7cfqzy0w6ksgp14o2tr9x53","comments":0,"comments_url":"https://gitee.com/api/v5/gists/7cfqzy0w6ksgp14o2tr9x53/commits","git_pull_url":"https://gitee.com/jixiangxia_admin/7cfqzy0w6ksgp14o2tr9x53.code.git","git_push_url":"https://gitee.com/jixiangxia_admin/7cfqzy0w6ksgp14o2tr9x53.code.git","created_at":"2019-03-27T20:16:46+08:00","updated_at":"2019-05-23T12:31:17+08:00","forks":null,"history":null}

